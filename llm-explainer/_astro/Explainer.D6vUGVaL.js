import{r as W}from"./index.BVOCwoKb.js";var P={exports:{}},w={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H;function te(){if(H)return w;H=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,f,d){var p=null;if(d!==void 0&&(p=""+d),f.key!==void 0&&(p=""+f.key),"key"in f){d={};for(var g in f)g!=="key"&&(d[g]=f[g])}else d=f;return f=d.ref,{$$typeof:e,type:s,key:p,ref:f!==void 0?f:null,props:d}}return w.Fragment=n,w.jsx=r,w.jsxs=r,w}var J;function re(){return J||(J=1,P.exports=te()),P.exports}var l=re();function ne(e,n=document){return typeof e=="string"?Array.from(n.querySelectorAll(e)):e instanceof Element?[e]:e instanceof NodeList?Array.from(e):e instanceof Array?e:[]}function oe(e){const n=document.createElement("div");n.className=`scrollama__debug-step ${e}`,n.style.position="fixed",n.style.left="0",n.style.width="100%",n.style.zIndex="9999",n.style.borderTop="2px solid black",n.style.borderBottom="2px solid black";const r=document.createElement("p");return r.style.position="absolute",r.style.left="0",r.style.height="1px",r.style.width="100%",r.style.borderTop="1px dashed black",n.appendChild(r),document.body.appendChild(n),n}function se({id:e,step:n,marginTop:r}){const{index:s,height:f}=n,d=`scrollama__debug-step--${e}-${s}`;let p=document.querySelector(`.${d}`);p||(p=oe(d)),p.style.top=`${r*-1}px`,p.style.height=`${f}px`,p.querySelector("p").style.top=`${f/2}px`}function ie(){const e="abcdefghijklmnopqrstuvwxyz",n=Date.now(),r=[];for(let s=0;s<6;s+=1){const f=e[Math.floor(Math.random()*e.length)];r.push(f)}return`${r.join("")}${n}`}function T(e){console.error(`scrollama error: ${e}`)}function k(e){return+e.getAttribute("data-scrollama-index")}function ce(e,n){const r=Math.ceil(e/n),s=[],f=1/r;for(let d=0;d<r+1;d+=1)s.push(d*f);return s}function z(e){if(typeof e=="string"&&e.indexOf("px")>0){const n=+e.replace("px","");return isNaN(n)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:n}}else if(typeof e=="number"||!isNaN(+e))return e>1&&err("offset value is greater than 1. Fallback to 1."),e<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,e),1)};return null}function le(e){e.forEach(n=>n.node.setAttribute("data-scrollama-index",n.index))}function ae(e){const{top:n}=e.getBoundingClientRect(),r=window.pageYOffset,s=document.body.clientTop||0;return n+r-s}let v,R,h;function L(e){const n=e?e.scrollTop:window.pageYOffset;v!==n&&(v=n,v>R?h="down":v<R&&(h="up"),R=v)}function fe(e){v=0,R=0,document.addEventListener("scroll",()=>L(e))}function de(){let e={},n=ie(),r=[],s,f,d,p=0,g=!1,O=!1,C=!1,N=!1,A=[];function q(){e={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},A=[]}function S(t){t&&!g&&$(),!t&&g&&I(),g=t}function M(t,i){const o=k(t),c=r[o];i!==void 0&&(c.progress=i);const u={element:t,index:o,progress:i,direction:h};c.state==="enter"&&e.stepProgress(u)}function D(t,i=!0){const o=k(t),c=r[o],u={element:t,index:o,direction:h};c.direction=h,c.state="enter",A[o]||e.stepEnter(u),N&&(A[o]=!0)}function G(t,i=!0){const o=k(t),c=r[o];if(!c.state)return!1;const u={element:t,index:o,direction:h};O&&(h==="down"&&c.progress<1?M(t,1):h==="up"&&c.progress>0&&M(t,0)),c.direction=h,c.state="exit",e.stepExit(u)}function Q([t]){const i=k(t.target),o=r[i],c=t.target.offsetHeight;c!==o.height&&(o.height=c,_(o),B(o),Y(o))}function U([t]){L(f);const{isIntersecting:i,target:o}=t;i?D(o):G(o)}function V([t]){const i=k(t.target),o=r[i],{isIntersecting:c,intersectionRatio:u,target:x}=t;c&&o.state==="enter"&&M(x,u)}function _({observers:t}){Object.keys(t).map(i=>{t[i].disconnect()})}function I(){r.forEach(_)}function Y(t){const i=new ResizeObserver(Q);i.observe(t.node),t.observers.resize=i}function X(){r.forEach(Y)}function B(t){const i=window.innerHeight,o=t.offset||s,c=o.format==="pixels"?1:i,u=o.value*c,x=t.height/2-u,y=t.height/2-(i-u),b={rootMargin:`${x}px 0px ${y}px 0px`,threshold:.5,root:d},F=new IntersectionObserver(U,b);F.observe(t.node),t.observers.step=F,C&&se({id:n,step:t,marginTop:x})}function Z(){r.forEach(B)}function K(t){const i=window.innerHeight,o=t.offset||s,c=o.format==="pixels"?1:i,u=o.value*c,x=-u+t.height,y=u-i,E=`${x}px 0px ${y}px 0px`,j=ce(t.height,p),m={rootMargin:E,threshold:j},b=new IntersectionObserver(V,m);b.observe(t.node),t.observers.progress=b}function ee(){r.forEach(K)}function $(){I(),X(),Z(),O&&ee()}const a={};return a.setup=({step:t,parent:i,offset:o=.5,threshold:c=4,progress:u=!1,once:x=!1,debug:y=!1,container:E=void 0,root:j=null})=>(fe(E),r=ne(t,i).map((m,b)=>({index:b,direction:void 0,height:m.offsetHeight,node:m,observers:{},offset:z(m.dataset.offset),top:ae(m),progress:0,state:void 0})),r.length?(O=u,N=x,C=y,p=Math.max(1,+c),s=z(o),f=E,d=j,q(),le(r),S(!0),a):(T("no step elements"),a)),a.enable=()=>(S(!0),a),a.disable=()=>(S(!1),a),a.destroy=()=>(S(!1),q(),a),a.resize=()=>($(),a),a.offset=t=>t==null?s.value:(s=z(t),$(),a),a.onStepEnter=t=>(typeof t=="function"?e.stepEnter=t:T("onStepEnter requires a function"),a),a.onStepExit=t=>(typeof t=="function"?e.stepExit=t:T("onStepExit requires a function"),a),a.onStepProgress=t=>(typeof t=="function"?e.stepProgress=t:T("onStepProgress requires a function"),a),a}function ue({steps:e,onStep:n}){return W.useEffect(()=>{const r=de();return setTimeout(()=>{r.setup({step:".step",offset:.6,debug:!1}).onStepEnter(({index:s})=>{console.log("‚úÖ Entered step:",s),n(s)})},500),()=>{r.destroy()}},[n]),l.jsx("section",{className:"max-w-xl mx-auto px-6 pt-40 bg-white",children:e.map((r,s)=>l.jsxs("div",{className:"step",style:{marginTop:s===0?"10vh":"60vh",marginBottom:s===e.length-1?"20vh":"60vh",padding:"2rem",backgroundColor:s%2===0?"#eef":"#efe",minHeight:"50vh",border:"1px solid #ccc"},children:[l.jsxs("h2",{children:["Step ",s+1]}),l.jsx("p",{children:r})]},s))})}function pe({activeStep:e}){return console.log("üîç activeStep =",e),l.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"white",zIndex:10,position:"relative"},children:[e===0&&l.jsxs("svg",{viewBox:"0 0 200 100",preserveAspectRatio:"xMidYMid meet",style:{width:"90%",maxWidth:"600px",height:"auto",backgroundColor:"#bfdbfe",border:"1px solid black"},children:[l.jsx("rect",{x:"10",y:"40",width:"40",height:"20",fill:"#3b82f6",stroke:"black"}),l.jsx("text",{x:"30",y:"55",textAnchor:"middle",fill:"white",fontSize:"10",children:"Input"})]}),e===1&&l.jsxs("svg",{viewBox:"0 0 200 100",preserveAspectRatio:"xMidYMid meet",style:{width:"90%",maxWidth:"600px",height:"auto",backgroundColor:"#fef9c3",border:"1px solid black"},children:[l.jsx("circle",{cx:"60",cy:"50",r:"20",fill:"#f59e0b",stroke:"black"}),l.jsx("text",{x:"60",y:"55",textAnchor:"middle",fill:"white",fontSize:"10",children:"Attend"})]}),e===2&&l.jsxs("svg",{viewBox:"0 0 200 100",preserveAspectRatio:"xMidYMid meet",style:{width:"90%",maxWidth:"600px",height:"auto",backgroundColor:"#d1fae5",border:"1px solid black"},children:[l.jsx("line",{x1:"10",y1:"50",x2:"190",y2:"50",stroke:"#10b981",strokeWidth:"4"}),l.jsx("text",{x:"100",y:"70",textAnchor:"middle",fill:"#10b981",fontSize:"12",children:"Encoding"})]}),e===3&&l.jsxs("svg",{viewBox:"0 0 200 100",preserveAspectRatio:"xMidYMid meet",style:{width:"90%",maxWidth:"600px",height:"auto",backgroundColor:"#ede9fe",border:"1px solid black"},children:[l.jsx("polygon",{points:"100,10 120,90 80,90",fill:"#8b5cf6",stroke:"black"}),l.jsx("text",{x:"100",y:"50",textAnchor:"middle",fill:"white",fontSize:"12",children:"Output"})]})]})}function xe(){const[e,n]=W.useState(0),r=["Step 1: The input tokens are embedded.","Step 2: The transformer attends to context.","Step 3: Encodings are adjusted with position info.","Step 4: The model predicts the next word."];return l.jsxs("div",{className:"flex-container min-h-[400vh]",children:[l.jsx("div",{className:"flex-child text-container",children:l.jsx(ue,{steps:r,onStep:n})}),l.jsx("div",{className:"flex-child graphic-container",children:l.jsx(pe,{activeStep:e})})]})}export{xe as default};
